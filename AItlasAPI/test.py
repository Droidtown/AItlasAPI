import json
from pathlib import Path
from pprint import pprint
from AItlasAPI import AItlas

G_accountDICT: dict[str, str] = {}
try:
    with open(Path.cwd()/"account.info", encoding="utf-8") as f:
        G_accountDICT = json.load(f)
except Exception as e:
    pprint(e)
    pprint("請先新增 account.info 並填入相關資訊")
    exit()

if __name__ == "__main__":
    articleDICT: dict[str, str] = {
        # "1140516": "（中央社記者郭建伸、林巧璉台北16日電）北院審理京華城案引發民眾黨與高雄市政府為容積獎勵隔空交火。民眾黨今天批評高雄市府避重就輕、惡意誤導，呼籲勿配合政客炒作聲量；高雄市副市長林欽榮說，京華城是單一財團小基地，採取所謂自創容積，無法律授權。北院昨天開庭審理京華城案，前民眾黨主席柯文哲的臉書以「綠能，你不能；陳其邁可以，柯文哲不能」為題表示，「高雄亞灣經貿開發計畫不管是營運或企業總部給20%容獎，都不可以。」高雄市府回應，政黨人士混淆視聽，譴責以司法調查弊案類比國家重大經建亞灣2.0。民眾黨今天透過聲明表示，根據「都市計畫法高雄市施行細則」第24條之3規定項目與容積獎勵上限，取得經濟部核發的「營運總部」認定函，法定容積5%，但高雄市府新聞稿中卻未正面回應昨天柯文哲委任律師質疑「為何給予容積獎勵20%，整整比施行細則所規定之上限5%多出3倍？」民眾黨質疑，高雄市政府心虛閃躲、避重就輕，給予容積獎勵的項目是哪些，請高雄市政府具體回應，應依林欽榮所言「容積是公共財」，審議不可黑箱。民眾黨也抨擊，高雄市府新聞稿提及有關京華城部分有諸多錯誤，表格更是惡意誤導，因為京華城從頭到尾都不是「準用都更」，是根據「都市計畫法第24條」由地主自行提出細部計畫申請，台北市政府則依「台北市都市計畫施行自治條例」25條給予容積獎勵，何來「違法準用都更條例」。民眾黨指出，京華城計畫內容具備「公益性、對價性」且提供市府回饋，通過都委會審議才得到容積獎勵，肩負帶動台北市南松山地區與附近老舊街廓有更新活化的任務、並非單一地主受惠。民眾黨抨擊，高雄市政府的表格在土地面積欄位寫「亞灣計畫區為國有土地」是刻意迴避，實際上以「國家重大經建計畫」做包裝，亞灣開發後，原國有土地皆轉賣給私有企業或財團進行開發，而且高雄市政府在上位計畫還沒通過前，就搶先給容積，對照林欽榮對京華城案的攻擊，明顯雙標，根本是「我能你不能」。不過，民眾黨也指出，高雄市政府聲明稿唯一有參考價值的地方，是證實細部計畫可以給容積獎勵，林欽榮在開庭時，不斷鬼打牆稱細部計畫不能給容積獎勵，多給一平方米就是圖利，但亞灣2.0計畫正是林欽榮透過細部計畫給予容積獎勵的實際個案，甚至突破5%上限給到20%。高雄市副市長林欽榮上午在高雄市議會接受媒體聯訪表示，所有容積獎勵須依法授權，亞灣地區容積合法合規，京華城非都更區，僅是單一財團小基地，「這是天差地別」。他說，亞灣地區早在民國91年依都市計畫程序，完全就劃定為公劃公告都市更新地區，對比京華城根本不是都市更新地區，亞灣本來就可有1.5倍容積率使用。林欽榮表示，京華城是單一財團小基地1.6公頃，採取所謂自創容積，無法律授權；監察院2023年有糾正台北市政府、台北市都委會、台北市都發局，「亞灣與京華城是天差地別。亞灣2.0計畫完全是依法授權」。（編輯：謝佳珍）1140516",
        # "1140920": "（中央社記者黃旭昇新北20日電）矯正署台北看守所遞送餐飲過程遭批評，北所今天表示，依收容人的用餐習慣與食品衛生，提供適當不鏽鋼皿具盛裝；至於舍房送入口的位置，主要是受限舊有建築結構安全影響。前台灣民眾黨主席柯文哲的妻子陳佩琪，今天在其臉書（Facebook）粉絲專頁貼文表示，柯文哲近日與她聊北所的生活，讓人無法想像3坪羈押室是怎麼過日子。她貼文轉述，柯文哲說，吃飯是用像臉盆的器皿，把食物全混在一起，從不透明門底下的一個小洞遞進去，那場景就像拿廚餘去餵貓狗一樣。台北看守所對此回應表示，看守所依規定供應全體收容人飲食，並視用餐人數與習慣、食品衛生及種類，使用適當不鏽鋼皿具盛裝。聲明表示，另外，舍房送入口位置是受限舊有建築結構安全影響；北所為兼顧收容安全及健康，將持續維護環境衛生，規劃提升收容品質，以保障收容人權益。（編輯：張銘坤）1140920",
        # "1140915": "（中央社記者林長順台北15日電）京華城案被告柯文哲、應曉薇聲請具保停押獲北院裁准，北檢提抗告，高院撤銷原裁定發回更裁。北院今天重開羈押庭後，再度裁定柯文哲、應曉薇交保，且維持原交保金額。前台北市長柯文哲、中國國民黨籍台北市議員應曉薇涉京華城案等遭羈押禁見，日前聲請具保停押，台灣台北地方法院5日裁定柯文哲7000萬元交保，應曉薇3000萬元交保，都限制住居、限制出境、出海8月。合議庭要求兩人不得與同案被告、證人有任何接觸、騷擾、恐嚇或探詢案情行為，並接受配戴電子腳鐶、攜帶個案手機等科技設備監控。台灣台北地方檢察署以證人尚未詰問完畢，且柯文哲8日具保後即接觸證人陳智菡與陳宥丞等理由，9日向台灣高等法院提起抗告。高院認定檢察官抗告有理由，12日撤銷原裁定，發回原審法院另為適法處理。（編輯：陳清芳）1140915",
        # "1140914": "（中央社記者黃麗芸台北14日電）京華城案被告柯文哲、應曉薇聲請具保停押獲台北地院裁准，北檢抗告成功，北院合議庭明早重開羈押庭。外傳柯文哲支持者「小草」們將到場外聲援，北市警方預計出動40人維安、另安排40警待命。前台北市長柯文哲、國民黨台北市議員應曉薇涉京華城等案遭羈押禁見，日前聲請具保停押，台北地方法院5日裁定柯文哲新台幣7000萬元交保，應曉薇3000萬元交保，並均限制住居、限制出境、出海8月。因台北地檢署提起抗告，高院12日撤銷原裁定發回更裁。台北地院合議庭訂15日上午10時重開羈押庭，要求柯文哲、應曉薇當天上午9時到法警室報到。外傳「小草」們明天上午10時將到北院外幫柯文哲加油、打氣。對此，轄區警方、台北市警察局中正第一分局今天表示，為維護北院周邊交通和安全維護，明天將出動40名警力執行勤務，若有狀況則將再增派預備警力40人。（編輯：黃名璽）1140914",
        # "1140520": "（中央社記者林長順台北20日電）北院審理京華城案，今天傳喚市議員苗博雅作證。苗博雅受訪時說，質詢京華城案初衷就是守護台北市民超過百億的公共財，不應落入特定財團的口袋，至今沒有變過。台北地檢署偵辦京華城案、柯文哲政治獻金案，去年12月26日依貪污治罪條例違背職務收受賄賂罪、圖利、公益侵占、背信等罪嫌，起訴前台北市長柯文哲、威京集團主席沈慶京等11人，並具體求處柯文哲總計28年6月徒刑。台北地方法院今天再開審理庭，以證人身分傳喚社會民主黨台北市議員苗博雅，由檢辯交互詰問，合議庭也提訊在押被告柯文哲、沈慶京、國民黨台北市議員應曉薇、前台北市長辦公室主任李文宗進行訊問，下週前將裁定是否延長羈押。苗博雅出庭前受訪指出，出庭作證是國民義務，既然收到法院傳喚，一定會盡國民的義務，對於檢辯雙方和法官提出的所有問題，就是一個原則，據實以報。苗博雅說，根據媒體報導，柯文哲今年3月間在法院陳述時，主動說苗博雅的質詢是他的保障，但柯文哲的政黨「在我出庭前，運用政治操作來抹黑證人，牴觸他們高唱的司法改革精神」、「我個人可以承受住攻擊，但對其他證人會構成很大的政治壓力」。苗博雅強調，一開始在議會質詢京華城案到現在，就是為了守護台北市民超過百億元的公共財，這是市民共同的財產，不應該落入特定財團的口袋裡面，這是自己的初衷，沒有變過。北院今天上午先針對李文宗是否延押進行訊問，檢察官認為李文宗仍有勾串、滅證之虞，建請法院裁定延長羈押；李文宗則表示自己是無辜的，被冠上莫須有罪名，沒有延押必要。由於李文宗沒有要詰問苗博雅，合議庭訊問後，將李文宗還押台北看守所。合議庭接著勘驗苗博雅於民國110年、111年在市議會質詢柯文哲京華城案影片。柯文哲律師表示，從質詢過程可見，柯文哲對於京華城案確實不清楚，當時在議場的官員說明可證明，京華城案是依都市計畫法第24條規定辦理，沒有適法性的問題。檢方表示，柯文哲律師團聲請勘驗質詢影片，無非是要證明柯文哲不知情，例如柯文哲當時有「抓頭」的動作，但「抓頭」代表的意義一般並沒有明確解釋，無法就此認定為「不知情」。檢方進一步指出，柯文哲曾向媒體解釋自己的「抓頭」動作，意思是「頭殼抱著燒」，接受質詢時說不知情明顯是在卸責。（編輯：蕭博文）1140520",
        # "1140911": "（中央社記者林長順台北11日電）北院5日裁定柯文哲交保，北檢以柯接觸陳智菡等原因提抗告。柯辯護人今天指出，柯當時還沒收到裁定書，且被動與陳智菡同車。檢方表示，裁定5日出爐，清楚寫明不能接觸同案證人。前台北市長柯文哲涉京華城等案，聲請具保停押獲北院裁定新台幣7000萬元交保，限制住居於居所地，並限制出境、出海8月。合議庭並要求柯文哲不得與同案被告、證人有任何接觸、騷擾、恐嚇或探詢案情的行為，並接受左腳配戴電子腳鐶、攜帶個案手機等科技設備監控。台北地檢署認為，本案證人尚未詰問完畢，且柯文哲8日具保後，即與本案證人陳智菡、陳宥丞有所接觸，已違反法院具保命遵守的「不得與證人有任何接觸之行為」的事由，因此提起抗告，目前由台灣高等法院審理中。北院審理京華城案及柯文哲政治獻金案，今天再度開庭，傳喚柯文哲、前競選總部財務長李文宗、木可公司董事長李文娟到庭，並傳喚民眾黨秘書長周榆修、木可公關員工李婉萱作證。柯文哲律師在庭訊時指出。柯文哲8日交保離開法院時，尚未拿到裁定書，不清楚相關細節，且是「被動」與陳智菡等人同台、同車。裁定中提到「不得與同案證人」接觸，是否應僅限尚未出庭作證完成詰問的證人，希望法院釐清「同案證人」定義。公訴檢察官表示，合議庭5日已做出裁定，清楚載明「同案證人」，並未指是「尚未詰問的證人」，陳智菡曾與被告彭振聲聯繫，陳宥丞曾幫忙提供京華城案議會調查小組的資料，「不得與同案證人接觸」應該包含證據清單中的證人才為合理。審判長表示，檢方已對交保裁定提起抗告，若在裁定結果出來前，針對交保裁定內容做補充或變更，將使高院不知道要審的標的是什麼，因此在抗告結果出來前做補充或變更並不適當。（編輯：林恕暉）1140911",
        # "1140909": "（中央社記者林長順台北9日電）前台北市長柯文哲涉京華城等案，聲請具保停押獲北院裁定7000萬元交保，北市議員應曉薇則以3000萬元交保。北檢認為本案證人尚未詰問完畢，仍有羈押必要，今天下午6時許提起抗告。台北地檢署指出，依照台灣高等法院114年8月11日114年度抗字第1881號裁定（被告柯文哲、應曉薇延長羈押抗告遭高院駁回的裁定），認為被告柯文哲涉犯公益侵占罪部分，仍有重要證人尚未調查完畢。北檢盤點10月間尚待交互詰問的重要證人，至少包括黃景茂（10月2日）、張高祥、范有偉（10月16日）、黃珊珊（10月21日）、吳順民（10月30日）等人。檢察官主張不論貪污罪或公益侵占罪，在證人交互詰問完畢前，仍有羈押的必要。北檢表示，柯文哲昨天具保後，即與本案證人陳智菡、陳宥丞有所接觸，已違反法院具保命遵守的「不得與證人有任何接觸之行為」的事由。北檢指出，柯文哲具保後對即將於9月16日到法院作證的共同被告李文宗喊話，但共同被告李文宗就公益侵占的犯罪事實，與被告柯文哲有相互指證的關係。北檢表示，柯文哲於羈押禁見中，持續授權特定人士使用其「本人名義」的社群帳號，將法庭活動片面解讀、惡意扭曲、斷章取義，毫不避諱地隔空串證及製造輿論，抹黑、恐嚇對其不利證述的證人。至於應曉薇部分，北檢認為，尚有證人沈慶京、黃景茂、柯文哲、吳順民待交互詰問。「在證人詰問完畢前，應仍有羈押之必要」是檢察官的一貫主張。柯文哲、應曉薇偵查期間遭北檢聲請羈押禁見獲准，全案移審台北地方法院後，北院於今年1月2日裁定羈押禁見3個月，並先後裁定自4月2日、6月2日、8月2日起各延長羈押禁見2個月，這次羈押期限為10月1日期滿。柯文哲、應曉薇日前聲請具保停止羈押。北院5日裁定柯文哲以自己名義提出新台幣7000萬元保證金，應曉薇以自己名義提出3000萬元保證金後，均准予停止羈押，並均限制住居於居所地，並限制出境、出海8月，均需配戴電子腳鐶。應曉薇5日辦妥手續後離開法院，柯文哲當天律見後表示需再行深思，8日則同意由妻子陳佩琪辦理後續交保程序，於8日下午約2時30分離開法院。（編輯：李錫璋）1140909",
        # "1140907": "（中央社記者陳俊華台北7日電）北院裁定前民眾黨主席柯文哲交保。柯文哲妻子陳佩琪今天說，律師轉述柯文哲第一個心願，是希望立刻回新竹看柯媽媽，「也看看爸爸（的骨灰）放在哪裡，這是他一直懸在心上的心願」。台北地院審理京華城案，前台北市長柯文哲日前聲請具保停止羈押，5日獲北院裁定7000萬元交保，但柯文哲在律見後表示需再行深思。民眾黨指出，等待柯文哲於8日指示律師同意後，立即向北院辦妥交保程序，迎接柯文哲出來。陳佩琪今天晚間到土城看守所外，向支持者加油打氣。她在接受直播時表示，感謝小草、支持者對柯文哲的支持，始終不離不棄；明天她希望去北院幫柯文哲繳齊保釋金後，能夠很順利、平安地跟柯文哲回家。陳佩琪說，律師向她轉述，柯文哲第一個心願，就是希望立刻回新竹看媽媽，所以明天計劃交保後，第一個回新竹看柯媽媽，「也看看爸爸（的骨灰）放在哪裡，這是他一直懸在心上的心願」。陳佩琪指出，3月10日柯文哲父親告別式當天，柯文哲一直爭取能等父親火化、供奉好，但不被答應，沒辦法陪伴父親是柯文哲最大遺憾，所以「明天去新竹探視婆婆，看爸爸在哪裡」，接下來可能就是要認真研究官司如何攻防。陳佩琪表示，律師也跟她說，柯文哲希望可以有正常的書桌、椅子和檯燈，因為在北所裡都沒有桌椅，只能跪著、趴著看東西，且燈光昏暗，這一年來柯文哲快要把眼睛搞壞。陳佩琪說，明天也安排在北院前，簡單的跟大家短暫見面；如果時間足夠的話，柯文哲會全台從北到南，向曾經給他加油、鼓勵的人和團體，「我們都會一一的去跟大家道謝」。（編輯：林克倫）1140907",
        "1140811": "（中央社記者劉世怡台北11日電）北院審理京華城案裁定柯文哲、應曉薇自2日起延長羈押禁見2個月。2人不服提起抗告，高院今天認定原裁定並無違法或不當，駁回抗告，即延長羈押禁見2個月確定。台灣高等法院指出，柯文哲、應曉薇前經原審法院裁定羈押禁見，因期間將屆，經原審台北地院法院訊問後，認定2人犯罪嫌疑重大，且原羈押原因及必要依然存在，因此裁定延長羈押2個月並禁止接見、通信。高院表示，柯文哲、應曉薇抗告主張犯嫌並非重大、無逃亡之虞、無勾串之虞、無羈押必要、原裁定理由不備、身體有恙非保外就醫難以痊癒，請求撤銷原裁定。高院合議庭表示，依卷內事證及向原審法院、看守所函調相關資料，認定2人主張均不足採信，因此認定本件抗告為無理由，予以駁回。本件延長羈押確定。台北地檢署偵辦京華城案、柯文哲政治獻金案，去年底依貪污治罪條例違背職務收受賄賂、圖利、公益侵占與背信等罪起訴前台北市長柯文哲、威京集團主席沈慶京、國民黨台北市議員應曉薇、前台北市長辦公室主任李文宗等11人，具體求處柯文哲總計28年6月徒刑。全案移審後，北院2度裁定在押的柯文哲、沈慶京、應曉薇與李文宗交保，經北檢抗告，高院2度發回更裁，北院1月2日裁定柯文哲、沈慶京、應曉薇、李文宗等4人裁定羈押禁見3個月。北院隨後裁定柯文哲、沈慶京、應曉薇與李文宗等4人，自4月2日、同年6月2日起分別延長羈押2月。北院7月21日裁定柯文哲、應曉薇均自8月2日起延長羈押2月，並禁止接見、通信。李文宗則獲裁定2000萬元交保，限制住居、限制出境出海及配戴電子腳鐶。李男7月23日辦保及配戴電子腳鐶完成，離開法院。此外，沈慶京獲裁定1億8000萬元交保並限制住居、限制出境出海及配戴電子腳環及個案手機。沈慶京7月24日下午繳交保證金，晚間配戴電子腳環及個案手機後，離開法院。（編輯：蕭博文）1140811",
        # "1140813": "（中央社記者劉世怡台北13日電）台北地院7日開庭審理京華城案，前台北市長柯文哲休庭時情緒激動批評檢察官並丟資料、弄倒水瓶。北檢發函聲請調取當天休庭時間的法庭錄影畫面，北院今天收文，將評議准駁。北院7日召開審理庭，提訊在押的柯文哲，並以證人身分傳喚前台北市副秘書長李得全、前台北市副市長黃珊珊到庭，由檢辯交互詰問。柯文哲在休庭時情緒激動，拿起麥克風對著還在法庭內的公訴檢察官表示，「你們每天這樣亂編故事，不羞恥嗎」、「你們都在想怎麼編故事害人」等語，並對檢察官說出非理性言詞。柯文哲還把紙本資料摔向檢察官，並弄倒水瓶。台北地檢署後來發布新聞稿，對柯文哲在法院審理期日的中間休庭時間，對蒞庭檢察官的非理性言詞及舉動，表達嚴正譴責，並呼籲當事人應遵守法庭秩序，以維護理性、安全的訴訟環境。（編輯：張銘坤）1140813"
    }
    topicSTR: str = "京華城"

    aitlas = AItlas(username=G_accountDICT["username"], apikey=G_accountDICT["api_key"], url=G_accountDICT["url"], llm=G_accountDICT["llm"])
    for time_s, article_s in articleDICT.items():
        KG = aitlas.scan(inputSTR=article_s.replace("\n", ""), timeRefSTR=time_s)
        # pprint(KG)

    view = aitlas.aitlasViewPacker(directoryNameSTR=topicSTR)
    aitlas.view(directoryNameSTR=topicSTR)